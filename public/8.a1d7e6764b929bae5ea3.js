(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{CedQ:function(t,e,n){"use strict";n.r(e);var o=n("CcnG"),l=function(){return function(){}}(),r=n("cyBs"),c=n("y5Pl"),i=n("M+1Z"),u=n("JEFa"),a=n("pMnS"),s=n("OMr1"),p=n("DCf/"),d=n("MZFh"),b=n("Ip0R"),j=n("mrSG"),f=n("yGQT"),h=function(t){return t.PROJECTS_QUERY="[Projects] Projects query",t.PROJECTS_LOADED="[Projects] Projects loaded",t.PROJECT_ADDED="[Projects] Project added",t.PROJECT_EDITED="[Projects] Project edited",t.PROJECT_DELETED="[Projects] Project deleted",t.PROJECTS_ERROR="[Projects] Projects error",t}({}),R=function(){return function(){this.type=h.PROJECTS_QUERY}}(),O=function(){return function(t){this.payload=t,this.type=h.PROJECTS_LOADED}}(),y=function(){return function(t){this.payload=t,this.type=h.PROJECT_ADDED}}(),E=function(){return function(t){this.payload=t,this.type=h.PROJECT_EDITED}}(),m=function(){return function(t){this.payload=t,this.type=h.PROJECT_DELETED}}(),P=function(){return function(t){this.payload=t,this.type=h.PROJECTS_ERROR}}(),g=Object(f.v)("projects"),v=Object(f.x)(g,(function(t){return t.projects})),D=Object(f.x)(g,(function(t){return t.loading})),_=(Object(f.x)(g,(function(t){return t.error})),n("67Y/")),C=n("t9fZ"),T=n("d2bA"),J=n("qyy/"),w=function(){function t(t,e,n){this.store=t,this.modalService=e,this.afAuth=n,this.modalConfig={class:"modal-dialog-centered"}}return t.prototype.ngOnInit=function(){var t=this;this.isLoading$=this.store.select(D),this.projects$=this.store.pipe(Object(f.y)(v),Object(_.a)((function(e){return t.user&&!e&&t.store.dispatch(new R),e})))},Object.defineProperty(t.prototype,"user",{get:function(){return this.afAuth.auth.currentUser},enumerable:!0,configurable:!0}),t.prototype.openAddProjectModal=function(){var t=this;this.modalRef=this.modalService.show(J.a,this.modalConfig),this.modalRef.content.heading="Add new project",this.modalRef.content.projectData.pipe(Object(C.a)(1)).subscribe((function(e){t.store.dispatch(new y({project:e}))}))},t.prototype.openEditProjectModal=function(t){var e=this;this.modalRef=this.modalService.show(J.a,this.modalConfig),this.modalRef.content.heading="Edit project";var n=Object(j.__assign)({},t);this.modalRef.content.project=n,this.modalRef.content.projectData.pipe(Object(C.a)(1)).subscribe((function(t){e.store.dispatch(new E({project:t}))}))},t.prototype.openConfirmModal=function(t){var e=this;this.modalRef=this.modalService.show(T.a,this.modalConfig),this.modalRef.content.confirmation.pipe(Object(C.a)(1)).subscribe((function(n){n&&e.store.dispatch(new m({project:t}))}))},t.prototype.onProjectDelete=function(t){this.openConfirmModal(t)},t.prototype.onProjectEdit=function(t){this.openEditProjectModal(t)},t}(),S=n("ZBkt"),$=o.Fb({encapsulation:0,styles:[[""]],data:{}});function k(t){return o.cc(0,[(t()(),o.Hb(0,0,null,null,3,"div",[["class","d-flex justify-content-center align-items-center"],["style","margin-top: 200px"]],null,null,null,null,null)),(t()(),o.Hb(1,0,null,null,2,"div",[["class","spinner-grow text-primary"],["role","status"],["style","width: 4rem; height: 4rem;"]],null,null,null,null,null)),(t()(),o.Hb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),o.ac(-1,null,["Loading..."]))],null,null)}function H(t){return o.cc(0,[(t()(),o.Hb(0,0,null,null,4,"div",[["class","white px-4 section-header"]],null,null,null,null,null)),(t()(),o.Hb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),o.ac(-1,null,["Projects list"])),(t()(),o.Hb(3,0,null,null,1,"p",[["class","grey-text pt-3"]],null,null,null,null,null)),(t()(),o.ac(-1,null,["Add, edit and delete your projects"])),(t()(),o.Hb(5,0,null,null,10,"div",[["class","container-fluid pb-5"]],null,null,null,null,null)),(t()(),o.Hb(6,0,null,null,9,"div",[["class","py-5"]],null,null,null,null,null)),(t()(),o.Hb(7,0,null,null,2,"button",[["class","ml-3"],["color","primary"],["mdbBtn",""]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.openAddProjectModal()&&o),o}),r.x,r.i)),o.Gb(8,638976,null,0,s.G,[o.q,o.Q],{color:[0,"color"]},null),(t()(),o.ac(-1,0,["Add new project"])),(t()(),o.Hb(10,0,null,null,2,"app-projects-list",[],null,[[null,"projectDeleted"],[null,"projectEdited"]],(function(t,e,n){var o=!0,l=t.component;return"projectDeleted"===e&&(o=!1!==l.onProjectDelete(n)&&o),"projectEdited"===e&&(o=!1!==l.onProjectEdit(n)&&o),o}),p.b,p.a)),o.Gb(11,114688,null,0,d.a,[],{projects:[0,"projects"]},{projectDeleted:"projectDeleted",projectEdited:"projectEdited"}),o.Ub(131072,b.b,[o.j]),(t()(),o.wb(16777216,null,null,2,null,k)),o.Gb(14,16384,null,0,b.k,[o.eb,o.Z],{ngIf:[0,"ngIf"]},null),o.Ub(131072,b.b,[o.j])],(function(t,e){var n=e.component;t(e,8,0,"primary"),t(e,11,0,o.bc(e,11,0,o.Tb(e,12).transform(n.projects$))),t(e,14,0,o.bc(e,14,0,o.Tb(e,15).transform(n.isLoading$)))}),null)}function A(t){return o.cc(0,[(t()(),o.Hb(0,0,null,null,1,"app-projects",[],null,null,null,H,$)),o.Gb(1,114688,null,0,w,[f.n,s.C,S.a],null,null)],(function(t,e){t(e,1,0)}),null)}var I=o.Db("app-projects",w,A,{},{},[]),M=n("gIcY"),L=n("t/Na"),x=n("PCNd"),F=n("ZYCi"),Q=function(){return function(){}}(),U={projects:null,loading:!1,error:null};function Z(t,e){switch(void 0===t&&(t=U),e.type){case h.PROJECTS_QUERY:return Object.assign({},t,{loading:!0});case h.PROJECTS_LOADED:return Object.assign({},t,{projects:e.payload.projects,loading:!1});case h.PROJECTS_ERROR:return Object.assign({},t,{loading:!1,error:e.payload.error});default:return t}}var G=n("jYNz"),Y=n("/PH2"),N=n("15JJ"),q=n("9Z1F"),X=n("F/XL"),z=n("Xd88"),B=function(){function t(t,e,n){var o=this;this.actions$=t,this.projectsService=e,this.store=n,this.query$=this.actions$.pipe(Object(G.f)(h.PROJECTS_QUERY),Object(Y.a)(this.store.pipe(Object(f.y)(z.e))),Object(N.a)((function(t){return o.projectsService.get(t[1].uid).pipe(Object(_.a)((function(t){var e=t.map((function(t){var e=t.payload.key,n=t.payload.val();return{key:e||null,title:n.title||null,description:n.description||null,photoUrl:n.photoUrl||null}}));return new O({projects:e})})),Object(q.a)((function(t){return Object(X.a)(new P({error:t}))})))}))),this.added$=this.actions$.pipe(Object(G.f)(h.PROJECT_ADDED),Object(_.a)((function(t){return t.payload})),Object(Y.a)(this.store.pipe(Object(f.y)(z.e))),Object(N.a)((function(t){return o.projectsService.add(t[0].project,t[1].uid)}))),this.delete$=this.actions$.pipe(Object(G.f)(h.PROJECT_DELETED),Object(_.a)((function(t){return t.payload})),Object(Y.a)(this.store.pipe(Object(f.y)(z.e))),Object(N.a)((function(t){return o.projectsService.delete(t[0].project,t[1].uid)}))),this.edit$=this.actions$.pipe(Object(G.f)(h.PROJECT_EDITED),Object(_.a)((function(t){return t.payload})),Object(Y.a)(this.store.pipe(Object(f.y)(z.e))),Object(N.a)((function(t){return o.projectsService.update(t[0].project,t[1].uid)})))}return Object(j.__decorate)([Object(G.b)(),Object(j.__metadata)("design:type",Object)],t.prototype,"query$",void 0),Object(j.__decorate)([Object(G.b)({dispatch:!1}),Object(j.__metadata)("design:type",Object)],t.prototype,"added$",void 0),Object(j.__decorate)([Object(G.b)({dispatch:!1}),Object(j.__metadata)("design:type",Object)],t.prototype,"delete$",void 0),Object(j.__decorate)([Object(G.b)({dispatch:!1}),Object(j.__metadata)("design:type",Object)],t.prototype,"edit$",void 0),t}(),K=n("8cB+");n.d(e,"ProjectsModuleNgFactory",(function(){return V}));var V=o.Eb(l,[],(function(t){return o.Qb([o.Rb(512,o.m,o.pb,[[8,[r.c,r.d,c.a,i.a,u.a,a.a,I]],[3,o.m],o.I]),o.Rb(4608,b.m,b.l,[o.D,[2,b.y]]),o.Rb(4608,M.u,M.u,[]),o.Rb(4608,L.h,L.n,[b.d,o.N,L.l]),o.Rb(4608,L.o,L.o,[L.h,L.m]),o.Rb(5120,L.a,(function(t){return[t]}),[L.o]),o.Rb(4608,L.k,L.k,[]),o.Rb(6144,L.i,null,[L.k]),o.Rb(4608,L.g,L.g,[L.i]),o.Rb(6144,L.b,null,[L.g]),o.Rb(4608,L.f,L.j,[L.b,o.z]),o.Rb(4608,L.c,L.c,[L.f]),o.Rb(1073742336,b.c,b.c,[]),o.Rb(1073742336,s.Z,s.Z,[]),o.Rb(1073742336,s.w,s.w,[]),o.Rb(1073742336,s.v,s.v,[]),o.Rb(1073742336,s.u,s.u,[]),o.Rb(1073742336,M.t,M.t,[]),o.Rb(1073742336,M.i,M.i,[]),o.Rb(1073742336,s.h,s.h,[]),o.Rb(1073742336,s.i,s.i,[]),o.Rb(1073742336,x.a,x.a,[]),o.Rb(1073742336,F.o,F.o,[[2,F.t],[2,F.k]]),o.Rb(1073742336,Q,Q,[]),o.Rb(1073742336,L.e,L.e,[]),o.Rb(1073742336,L.d,L.d,[]),o.Rb(1073742336,s.pb,s.pb,[]),o.Rb(1024,f.I,(function(){return[{}]}),[]),o.Rb(1024,f.j,(function(){return[{key:"projects",reducerFactory:f.s,metaReducers:[],initialState:void 0}]}),[]),o.Rb(1024,f.J,f.P,[o.z,f.I,f.j]),o.Rb(1024,f.H,(function(){return[Z]}),[]),o.Rb(1024,f.K,(function(t){return[t]}),[f.H]),o.Rb(1024,f.b,(function(t,e,n){return[f.Q(t,e,n)]}),[o.z,f.H,f.K]),o.Rb(1073873408,f.o,f.o,[f.J,f.b,f.g,f.p]),o.Rb(512,B,B,[G.a,K.a,f.n]),o.Rb(1024,G.k,(function(t){return[G.g(t)]}),[B]),o.Rb(1073742336,G.d,G.d,[G.e,G.k,[2,f.p],[2,f.o]]),o.Rb(1073742336,l,l,[]),o.Rb(1024,F.i,(function(){return[[{path:"",component:w}]]}),[]),o.Rb(256,L.l,"XSRF-TOKEN",[]),o.Rb(256,L.m,"X-XSRF-TOKEN",[])])}))}}]);